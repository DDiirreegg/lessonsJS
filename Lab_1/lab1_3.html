<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="inputFields">
    <input type="text" class="liczba" />
  </div>
  <button id="addField">Добавить новое поле</button>
  <button id="removeField">Удалить поле</button>
  <div id="wyniki"></div>
  <script src="main.js" type="text/javascript"></script>
  <script type="text/javascript">

    const inputFields = document.querySelector('#inputFields');
    const addFieldBtn = document.querySelector('#addField');
    const removeFieldBtn = document.querySelector('#removeField');
    const wynik = document.querySelector('#wyniki');

    // Функция, которая обновляет результаты при изменении любого из полей ввода
    function updateResults() {
      const inputElements = document.querySelectorAll('.liczba');
      let sum = 0;

      inputElements.forEach((inputElement) => {
        const num = parseInt(inputElement.value) || 0;
        sum += num;
      });

      const sre = sum / inputElements.length;
      const min = Math.min(...Array.from(inputElements, el => parseInt(el.value) || 0));
      const max = Math.max(...Array.from(inputElements, el => parseInt(el.value) || 0));

      wynik.textContent = 'Suma: ' + sum + ', Srednią: ' + sre + ', Min: ' + min + ', Max: ' + max;
    }

    // Добавить обработчик события input для полей ввода
    inputFields.addEventListener('input', updateResults);

    // Обработчик клика для кнопки "Добавить новое поле"
    addFieldBtn.addEventListener('click', () => {
      const newInput = document.createElement('input');
      newInput.type = 'text';
      newInput.className = 'liczba';
      inputFields.appendChild(newInput);
    });

    // Обработчик клика для кнопки "Удалить поле"
    removeFieldBtn.addEventListener('click', () => {
      const inputElements = document.querySelectorAll('.liczba');
      if (inputElements.length > 1) {
        const lastInput = inputElements[inputElements.length - 1];
        inputFields.removeChild(lastInput);
      }
    });

    // Вызвать функцию updateResults при загрузке страницы, чтобы отобразить начальные результаты
    updateResults();

  </script>
</body>
</html>
